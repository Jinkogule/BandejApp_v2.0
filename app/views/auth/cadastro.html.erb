<!doctype html>
<html lang="pt-br">
    <head>
        <!-- Título-->
        <title>BandejApp - Cadastro</title>

        <!--Meta Tags-->
        <%= render 'comuns/metatags' %>

        <!--Bootstrap CSS-->
        <%= render 'comuns/bootstrap' %>

        <!--Favicon-->
        <%= render 'comuns/favicon' %>

        <!--Styles-->
        <%= stylesheet_link_tag 'main' %>
    </head>

    <body>
        <!--Navbar-->
        <%= render 'auth/components/navbar' %>

        <!--Mensagens-->
        <%= render 'comuns/mensagens' %>
        
        <div class="container container-cadastro mb-4">
            <h4 style="text-align: center;">Cadastro</h4>
            <hr>
            <form action="<%=  %>" method="POST">
                <%= csrf_meta_tags %>
                <div class="row mb-1">
                    <div class="col">
                        <label for="nome" style="color: #fff;">Nome:</label>
                        <input type="text" placeholder="Nome" id="nome" class="form-control" name="nome" value="<%= params[:nome] %>" maxlength="100" required autofocus>
                    </div>
                    <div class="col">
                        <label for="sobrenome" style="color: #fff;">Sobrenome:</label>
                        <input type="text" placeholder="Sobrenome" id="sobrenome" class="form-control" name="sobrenome" value="<%= params[:sobrenome] %>" maxlength="100" required autofocus>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col">
                        <label for="data_nascimento" style="color: #fff;">Data de nascimento:</label>
                        <input type="text" id="data_nascimento" placeholder="__/__/____" class="form-control" name="data_nascimento" value="<%= params[:data_nascimento] %>" required autofocus>
                    </div>
                    <div class="col">
                        <label for="status" style="color: #fff;">Você é:</label>
                        <select class="form-control fake-placeholder" id="status" name="status" onclick="fake_placeholder_status()" required>
                            <option value="" class="campo-placeholder">Aluno, professor, técnico administrativo ou externo.</option>
                            <option>Aluno</option>
                            <option>Professor</option>
                            <option>Técnico administrativo</option>
                            <option>Externo</option>
                        </select>
                    </div>
                </div>

                <div class="form-group mb-3">
                    <label for="password" style="color: #fff;">Senha:</label>
                    <input type="password" placeholder="Senha" id="password" class="form-control" name="password" maxlength="20" minlength="3" required>
                    <small id="emailHelp" style="color: #E0E0E0 !important;" class="form-text text-muted">Obs.: mínimo de 3 e máximo de 20 caracteres.</small>
                </div>

                <div class="row mb-3">
                    <div class="col">
                        <label for="peso" style="color: #fff;">Peso(Kg):</label>
                        <input type="text" placeholder="Peso" id="peso" class="form-control" name="peso" pattern="[\d]+" value="<%= params[:peso] %>" required>
                    </div>
    
                    <div class="col">
                        <label for="altura" style="color: #fff;">Altura(m):</label>
                        <input type="text" placeholder="Altura" id="altura" class="form-control" name="altura" value="<%= params[:altura] %>" required>
                    </div>
                </div>

                <div class="col mb-4">
                    <label for="unidade_bandejao" style="color: #fff; text-align: center;">Em qual campus você utiliza o restaurante universitário com maior frequência?</label>
                    <select class="form-control fake-placeholder" id="unidade_bandejao" onclick="fake_placeholder_unidade_bandejao()" name="unidade_bandejao" value="<%= params[:unidade_bandejao] %>" required>
                        <option value="" class="campo-placeholder">Gragoatá, Praia Vermelha, Reitoria, Veterinária ou HUAP.</option>
                        <option>Gragoatá</option>
                        <option>Praia Vermelha</option>
                        <option>Reitoria</option>
                        <option>Veterinária</option>
                        <option>HUAP</option>
                    </select>
                </div>

                <div class="d-grid mx-auto mb-2">
                    <button type="submit" class="btn btn-success btn-block">Enviar</button>
                </div>

                <%= link_to "Já possuo uma conta cadastrada", login_path, class: "nav-link"%>
            <form>   
        </div>
    </body>

    <script>
    $(document).ready(function(){
        $('#data_nascimento').mask('00/00/0000');
    });

    $(document).ready(function(){
        $('#altura').mask('0,00');
    });

    function fake_placeholder_unidade_bandejao(){
        var element = document.getElementById("unidade_bandejao");
        element.classList.remove("fake-placeholder");
    }

    function fake_placeholder_status(){
        var element = document.getElementById("status");
        element.classList.remove("fake-placeholder");
    }
    </script>
</html>